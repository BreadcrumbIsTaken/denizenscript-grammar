scopeName: 'source.denizenscript'
name: 'DenizenScript'
fileTypes: [
    'dsc'
]
patterns: [
    {
        include: '#comments'
    }
    {
        include: '#keys'
    }
    {
        include: '#commands'
    }
    {
        include: '#double_quotes'
    }
    {
        include: '#single_quotes'
    }
    {
        include: '#tags'
    }
    {
        include: '#tag_brackets'
    }
    {
        include: '#tag_definitions'
    }
]
repository:
    comments:
        patterns: [
            {
                begin: '^\\s*#.*$'
                end: '\\n'
                name: 'comment.normal.denizenscript'
            }
        ]
    keys:
        patterns: [
            {
                begin: '(^[^-#\\n]*)(:)'
                end: '\\s'
                beginCaptures:
                  1:
                    name: 'entity.name.tag.denizenscript'
                  2:
                    name: 'operator.colon.denizenscript'
            }
        ]
    commands:
        patterns: [
            {
                begin: '(-)\\s([^\\s]+)'
                captures:
                    1:
                      name: 'operator.dash.denizenscript'
                    2:
                      name: 'keyword.command.denizenscript'
                end: '\\s'
            }
        ]
    double_quotes:
        # Double Quote
        begin: '"'
        end: '\\n|"'
        name: 'string.quoted.double.denizenscript'
        patterns: [
            {
                include: '#tags'
            }
            {
                include: '#tag_brackets'
            }
        ]
    single_quotes:
        # Single Quote
        begin: '\''
        end: '\\n|\''
        name: 'string.quoted.single.denizenscript'
        patterns: [
            {
                include: '#tags'
            }
            {
                include: '#tag_brackets'
            }
        ]
    tags:
        # Tag
        begin: '<[^-\\s:\\[]'
        end: '>'
        name: 'constant.language.tag.denizenscript'
        patterns: [
            {
                include: '#tag_brackets'
            }
            {
                include: '#tag_definitions'
            }
        ]
    tag_brackets:
        begin: '\\['
        end: '\\]'
        name: 'keyword.tag-brackets.denizenscript'
        patterns: [
            {
                include: '#tags'
            }
            {
                include: '#tag_definitions'
            }
        ]
    tag_definitions:
        begin: '(<)(\\[)'
        end: '(\\])(.*?>)'
        beginCaptures:
            1:
                name: 'constant.language.tag.denizenscript'
            2:
                name: 'keyword.tag-definitions.denizenscript'
        endCaptures:
            1:
                name: 'keyword.tag-definitions.denizenscript'
            2:
                name: 'constant.language.tag.denizenscript'
        patterns: [
            {
                include: '#tags'
            }
            {
                include: '#tag_brackets'
            }
        ]